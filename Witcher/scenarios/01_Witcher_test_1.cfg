[scenario]

current_time=0
description="To jest testowa mapa do projektu Witcher."
id="Witcher_test_1"
map_file="Witcher_test.map"
name="Witcher_test_1"
victory_when_enemies_defeated=yes
next_scenario="Witcher_test_2"

turns=20
{DEFAULT_SCHEDULE}

[side]
    side=1
	controller="human"
	faction=Loyalists
	faction_lock=no
	color=red
	fog=no
	gold=150
	hidden=no
	income=2
	no_leader=yes
	share_vision="all"
	shroud=no
	side_name="test1"
	team_name="test1"
	[leader]
        id=Geralt
        name="Geralt"
        unrenamable=yes
        type="Witcher Wolf"
        x,y=4,4
        extra_recruit=Sierota, Witcher Adept, Witcher Wolf, Witcher Cat, Witcher Viper, Veteran Wolf, Veteran Cat, Veteran Viper
	[/leader]
	[unit]
	    id=dupek
	    type="Witcher Adept"
	    x,y=8,6
	[/unit]
    [unit]
    	id=kot
    	type="Witcher Cat"
    	x,y=9,7
    [/unit]
	[unit]
	    id=żmija
	    type="Witcher Viper"
	    x,y=10,8
	[/unit]
	[unit]
	    id=nikt
	    type="Sierota"
	    x,y=4,2
	[/unit]
[/side]
[side]
    side=2
	controller="human"
	faction=Loyalists
	faction_lock=no
	color=blue
	fog=no
	gold=150
	hidden=no
	income=2
	no_leader=yes
	share_vision="all"
	shroud=no
	side_name="test2"
	team_name="test1"
	[leader]
	    id=magik
	    name="Magik"
	    type="Mage"
	    x,y=4,5
	[/leader]
[/side]
[side]
    side=3
	controller="ai"
	faction=Loyalists
	faction_lock=no
	color=brown
	fog=no
	gold=10
	hidden=no
	income=2
	no_leader=yes
	share_vision="all"
	shroud=no
	side_name="test2"
	team_name="test2"

	[leader]
	    id=Vet_Wolf
	    type="Veteran Wolf"
	    x,y=13,4
	[/leader]

[/side]
[event]
    name=turn 1
    [message]
        speaker=Geralt
        message= _ "Zaraza!"
    [/message]
    [message]
        speaker=kot
        message= _ "Zaraza!"
    [/message]
    [message]
        speaker=żmija
        message= _ "Zaraza!"
    [/message]
    [message]
        speaker=dupek
        message= _ "Co za niewychowanie!"
    [/message]
    [message]
        speaker=nikt
        message= _ "Tu sa dzieci!"
    [/message]
    [message]
        speaker=magik
        message= _ "I wrażliwi magicy!"
    [/message]
    [message]
        speaker=Vet_Wolf
        message= _ "Żałość!"
    [/message]
[/event]
[event]
    name=prestart
    [set_variable]
        name=losowanie
        value=0
    [/set_variable]
[/event]
[event]
    name=moveto
    first_time_only=yes
    [filter]
        id=Geralt, magik
        x,y=2,1
    [/filter]
    [set_variable]
        name=losowanie
        rand=1..10
    [/set_variable]
    [message]
        speaker=Geralt
        message=$losowanie
    [/message]
    [if]
        [variable]
            name=losowanie
            less_than=5
        [/variable]
            [then]
                    [unit]
                        side=1
                        type=Sierota
                        id=poborowy1
                    [/unit]
                    [put_to_recall_list]
                        id=poborowy1
                    [/put_to_recall_list]
            [/then]
            [else]
                [if]
                    [variable]
                        name=losowanie
                        greater_than=6
                    [/variable]
                        [then]
                        [unit]
                            side=2
                            type=Sierota
                            id=poborowy1
                        [/unit]
                        [put_to_recall_list]
                            id=poborowy1
                        [/put_to_recall_list]
                    [/then]
                    [else]
                        {GENERIC_UNIT 3 (Witcher Adept) 2 1}
                    [/else]
                [/if]
            [/else]
    [/if]

[/event]
[event]
    name=moveto
    first_time_only=yes
    [filter]
        id=Geralt, magik
        x,y=4,1
    [/filter]
    [set_variable]
        name=losowanie
        rand=1..10
    [/set_variable]
    [message]
        speaker=Geralt
        message=$losowanie
    [/message]
    [if]
        [variable]
            name=losowanie
            less_than=5
        [/variable]
            [then]
                    [unit]
                        side=1
                        type=Sierota
                        id=poborowy2
                    [/unit]
                    [put_to_recall_list]
                        id=poborowy2
                    [/put_to_recall_list]
            [/then]
            [else]
                [if]
                    [variable]
                        name=losowanie
                        greater_than=6
                    [/variable]
                        [then]
                        [unit]
                            side=2
                            type=Sierota
                            id=poborowy2
                        [/unit]
                        [put_to_recall_list]
                            id=poborowy2
                        [/put_to_recall_list]
                    [/then]

                    [else]
                        {GENERIC_UNIT 3 (Witcher Adept) 4 1}
                    [/else]
                [/if]
            [/else]
    [/if]

[/event]
[event]
    name=moveto
    first_time_only=yes
    [filter]
        id=Geralt, magik
        x,y=6,1
    [/filter]
    [set_variable]
        name=losowanie
        rand=1..10
    [/set_variable]
    [message]
        speaker=Geralt
        message=$losowanie
    [/message]
    [if]
        [variable]
            name=losowanie
            less_than=5
        [/variable]
            [then]
                    [unit]
                        side=1
                        type=Sierota
                        id=poborowy3
                    [/unit]
                    [put_to_recall_list]
                        id=poborowy3
                    [/put_to_recall_list]
            [/then]
            [else]
                [if]
                    [variable]
                        name=losowanie
                        greater_than=6
                    [/variable]
                        [then]
                        [unit]
                            side=2
                            type=Sierota
                            id=poborowy3
                        [/unit]
                        [put_to_recall_list]
                            id=poborowy3
                        [/put_to_recall_list]
                    [/then]

                    [else]
                        {GENERIC_UNIT 3 (Witcher Adept) 6 1}
                    [/else]
                [/if]
            [/else]
    [/if]

[/event]
[/scenario]